#!/bin/bash

demu(){
  ch=$(echo -e "select mode\nfullscreen" | dmenu)

  sleep 0.3

  case "$ch" in
  'select mode')
    maim -s $HOME/pix/ss/$(date +%y-%m-%d_%H%M%S).jpg && dunstify 'ðŸ–¼ Screenshot Captured!' "Saved as: $(date +%y-%m-%d_%H%M%S).jpg"
    ;;
  'fullscreen')
    maim $HOME/pix/ss/$(date +%y-%m-%d_%H%M%S)_full.jpg && dunstify 'ðŸ–¼ Screenshot Captured!' "Saved as: $(date +%y-%m-%d_%H%M%S)_full.jpg"
    ;;
  *)
    dunstify "Good Bye!" "Come back again"
    ;;
  esac
}

while getopts 'p' opt; do 
  case ${opt} in 
    p)
      maim -s $HOME/pix/ss/$(date +%y-%m-%d_%H%M%S).jpg && dunstify 'ðŸ–¼ Screenshot Captured!' "Saved as: $(date +%y-%m-%d_%H%M%S).jpg"
      ;;
    *)
      demu
      ;;
  esac
done

